!function(n){"function"==typeof define&&define.amd?define(["util","native"],n):n(AmapApp.util,AmapApp.util.isInAmap()&&AmapApp.napi)}(function(n,i){"use strict";function e(n,i){(new Image).src=o+"?key="+encodeURIComponent(i)+"&value="+encodeURIComponent(n)}var o=n.isPublic()?"http://oss.amap.com/ws/h5_log":"http://oss.testing.amap.com/ws/h5_log",t={initLog:function(i){var e=n.getUrlParam(n.PAGE_SOURCE_KEY);this._logPageName=i+"_"+(n.os.ios?"ios":"android")+"_"+(n.isInAmap()?"amap":"wx")+(e?"_"+e:"")},log:function(o,t){t=t||this._logPageName,e(o,t),n.isInAmap()&&i&&i.userAction(o,t)}};return"function"==typeof define&&define.amd?t:void(AmapApp.log=t)});