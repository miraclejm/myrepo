!function(t,i){function e(i,e){if(i){this.options={startIndex:0,speed:300,isFollow:!0,isLoop:!0,isAuto:!1,widthScale:0,autoDuration:3e3,autoSpeed:600,scrope:null,afterFun:function(t,i){}};for(var s in e)e.hasOwnProperty(s)&&(this.options[s]=e[s]);if(this.options.isAuto&&(this.options.isLoop=!0),this.index=this.options.startIndex,this.container=i,this.panel=this.container.children[0],this.panelItems=this.panel.children,this.length=this.panelItems.length,!(this.length<2)){if(this.options.isLoop){var n=this.panelItems[0].cloneNode(!0),o=this.panelItems[this.length-1].cloneNode(!0);this.panel.appendChild(n),this.panel.insertBefore(o,this.panelItems[0]),this.oriLength=this.length,this.length=this.panelItems.length,this.index+=1}this.size(),this.container.addEventListener&&(this.container.addEventListener("touchstart",this,!1),this.container.addEventListener("webkitTransitionEnd",this,!1),t.addEventListener("resize",this,!1)),this.options.isAuto&&this.auto()}}}e.prototype={size:function(){if(this.options.widthScale){var t=this.options.widthScale;this.width=document.body.clientWidth*t,this.specialdis=document.body.clientWidth*(1-t)-20}else this.width=this.container.getBoundingClientRect().width,this.width=100*this.width/640*6.4;if(this.width){this.container.style.visibility="hidden";for(var i=this.length;i--;)this.panelItems[i].style.width=this.width+"px";this.panel.style.width=this.width*this.length+"px",this.slider(this.index,0),this.container.style.visibility="visible"}},prev:function(t){if(clearTimeout(this.autoTimeout),0<this.index){var i=this.index-1;this.slider(i,t),this.options.afterFun.call(this.options.scrope,this.indexConvert(i),this.panelItems[this.index])}},next:function(t){if(clearTimeout(this.autoTimeout),this.length-1>this.index){var i=this.index+1;this.slider(i,t),this.options.afterFun.call(this.options.scrope,this.indexConvert(i),this.panelItems[this.index])}},auto:function(){var t=this;this.autoTimeout=setTimeout(function(){t.next(t.options.autoSpeed)},this.options.autoDuration)},slideTo:function(t){t=this.options.isLoop?t+1:t,this.slider(t,0)},destroy:function(){if(this.container.removeEventListener){for(var i=["touchstart","touchmove","touchend","webkitTransitionEnd"],e=i.length;e--;)this.container.removeEventListener(i[e],this,!1);t.removeEventListener("resize",this,!1)}},slider:function(t,e){e=i!==e?e:this.options.speed;var s=this.panel.style,n=this.specialdis,o=0;s.webkitTransitionDuration=s.msTransitionDuration=s.transitionDuration=e+"ms",o=t>0&&n?-(t*this.width-n):-(t*this.width),s.webkitTransform="translate3d("+o+"px, 0, 0)",this.index=t},indexConvert:function(t){return this.options.isLoop&&(t=0===t?this.oriLength-1:this.length-1===t?0:t-1),t},handleEvent:function(t){switch(t=t||window.event,t.type){case"touchstart":this.onTouchStart(t);break;case"touchmove":this.onTouchMove(t);break;case"touchend":this.onTouchEnd(t);break;case"webkitTransitionEnd":this.onTransitionEnd(t);break;case"resize":this.size()}},onTouchStart:function(t){1===t.touches.length&&(this.startObj={pageX:t.touches[0].pageX,pageY:t.touches[0].pageY,sTime:Number(new Date)},this.deltaX=0,this.isScrolling=i,this.panel.style.webkitTransitionDuration=0,clearTimeout(this.autoTimeout),this.container.removeEventListener("touchmove",this,!1),this.container.removeEventListener("touchend",this,!1),this.container.addEventListener("touchmove",this,!1),this.container.addEventListener("touchend",this,!1))},onTouchMove:function(t){if(!(1<t.touches.length||(this.deltaX=t.touches[0].pageX-this.startObj.pageX,this.deltaY=t.touches[0].pageY-this.startObj.pageY,"undefined"==typeof this.isScrolling&&(this.isScrolling=this.isScrolling||2*Math.abs(this.deltaX)<Math.abs(this.deltaY)?!0:!1),this.isScrolling))){t.preventDefault();var i=this.options.specialdis,e=0;e=this.index>0&&i?this.deltaX-this.index*this.width+i:this.deltaX-this.index*this.width,this.options.isFollow&&(this.panel.style.webkitTransform="translate3d("+e+"px, 0, 0)")}},onTouchEnd:function(t){if(this.deltaX){var i=Number(new Date)-this.startObj.sTime<250&&Math.abs(this.deltaX)>20,e=0===this.index&&0<this.deltaX||this.length-1===this.index&&0>this.deltaX,s=i||this.width/2<Math.abs(this.deltaX)?e?0:0>this.deltaX?1:-1:0,n=this.index+s;this.slider(n,this.options.speed),this.options.afterFun.call(this.options.scrope,this.indexConvert(n),this.panelItems[n]);var o=this;this.slidingTimeout=setTimeout(function(){o.onTransitionEnd()},this.options.speed+100)}AmapApp.log.initLog("revokeUser");var h=this.index;switch(h){case 1:AmapApp.log.log("pv_accurate");break;case 2:AmapApp.log.log("pv_bus");break;case 3:AmapApp.log.log("pv_electric");break;default:AmapApp.log.log("pv_professional")}this.container.removeEventListener("touchmove",this,!1),this.container.removeEventListener("touchend",this,!1)},onTransitionEnd:function(t){clearTimeout(this.slidingTimeout),this.options.isLoop&&(0===this.index?this.slider(this.length-2,0):this.length-1===this.index&&this.slider(1,0)),this.options.isAuto&&this.auto()}},t.PicSlide=e}(window);